(()=>{"use strict";var e={9:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(758),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0},17:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(702),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0},19:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;const r=n(836);t.Router=class{constructor(e){this.fullUrl=this.parseUrl(""),this.fullPath="",this.routes=e,document.addEventListener("DOMContentLoaded",(()=>{this.bowserChangeHandler()})),window.addEventListener("popstate",this.bowserChangeHandler.bind(this))}navigate(e){const t=this.parseUrl(e),n=this.routes.find((e=>e.path===t.path));n?n.callback(t.resource):this.redirectToNotFound()}parseUrl(e){return this.fullUrl={path:"",resource:""},[this.fullUrl.path="",this.fullUrl.resource=""]=e.split("/"),this.fullUrl}redirectToNotFound(){const e=this.routes.find((e=>e.path===r.Pages.ERROR));e&&this.navigate(e.path)}bowserChangeHandler(){this.fullPath=this.getCurrentPath(),this.navigate(this.fullPath)}getCurrentPath(){return window.location.hash?this.fullPath=window.location.hash.slice(1):this.fullPath=window.location.pathname.slice(1),this.fullPath}}},20:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CarBase=void 0;const a=n(804);t.CarBase=class{constructor(){}getAllCars(){return r(this,void 0,void 0,(function*(){const e=(new a.Api).requestAllData("garage");return yield e.then((e=>e))}))}getCarById(){return r(this,arguments,void 0,(function*(e=0){const t=[{key:"id",value:String(e)}],n=(new a.Api).requestData("garage",t);return yield n.then((e=>e))}))}createNewCar(){(new a.Api).addNewData("garage",JSON.stringify({name:"car11",color:"color11"}))}deleteCar(e=0){const t=[{key:"id",value:String(e)}];(new a.Api).removeData("garage",t).then((e=>{console.log(e)}))}updateCar(e=0){const t={name:`FORD${e}`,color:`color${e}`,id:String(e)};(new a.Api).updateData("garage",String(e),JSON.stringify(t))}}},47:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=void 0,n(313);const r=n(535),a=n(423),o=n(200);t.Layer=class{constructor(e){this.header=new r.HeaderLayer(e),this.main=new a.MainLayer}addComponent(){return this.createLayer()}setPage(e){this.main.setPage(e)}createLayer(){const e=new o.CreateElement({tag:"div",classNames:["wrapper"],callback:()=>{}}).getElement();return e.append(this.header.addComponent(),this.main.addComponent()),e}}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},68:(e,t,n)=>{e.exports=n.p+"3fe97b2fe68fe928fb41.svg"},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var h=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var m=a(p,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var c=r(e,a),l=0;l<o.length;l++){var d=n(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},200:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateElement=void 0,t.CreateElement=class{constructor(e){this.element=document.createElement("div"),this.createElement(e)}getElement(){return this.element}setCssClasses(e){e.forEach((e=>{this.element.classList.add(e)}))}createElement(e){this.element=document.createElement(e.tag),this.setCssClasses(e.classNames),this.setCallback(e)}setCallback(e){"function"==typeof e.callback&&this.element.addEventListener("click",(t=>e.callback(t)))}}},247:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=void 0,n(409);const r=n(707),a=n(200);class o extends r.Page{constructor(){super()}setComponent(){const e=new a.CreateElement({tag:"div",classNames:["error__page"],callback:()=>{}}).getElement();return e.textContent="ERROR PAGE!",e}}t.ErrorPage=o},313:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(470),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},373:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(738),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0},409:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(774),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},422:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"* {\n}\n\nroot {\n}\n",""]);const s=i},423:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MainLayer=void 0,n(9);const r=n(200);t.MainLayer=class{constructor(){this.main=this.addComponent()}addComponent(){return this.main=new r.CreateElement({tag:"main",classNames:["main"],callback:()=>{}}).getElement(),this.main}setPage(e){for(;this.main.firstElementChild;)this.main.firstElementChild.remove();this.main.append(e.setComponent())}}},453:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(874),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0},470:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"",""]);const s=i},495:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(601),a=n.n(r),o=n(314),i=n.n(o),s=n(417),c=n.n(s),l=new URL(n(68),n.b),d=i()(a()),u=c()(l);d.push([e.id,`.cars_container {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px;\n    row-gap: 14px;\n}\n.car_block {\n    border-bottom: 1px dashed black;\n}\n\n.car_block__top {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    column-gap: 8px;\n    width: max-content;\n}\n\n.car_block__bottom {\n    display: flex;\n    flex-direction: row;\n}\n\n.car_button {\n    width: 72px;\n    height: 24px;\n    margin: 4px 4px 4px 4px;\n}\n\n.car_block__track {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-grow: 1;\n    margin-left: 24px;\n}\n\n.car {\n    width: 56px;\n    height: 56px;\n    color: #df4343;\n}\n\n.car > * {\n    width: inherit;\n    height: inherit;\n    transform: translateY(10px);\n}\n\n.car_drive {\n    animation-name: drive;\n    animation-play-state: running;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.5s;\n    animation-fill-mode: both;\n    animation-direction: normal;\n    animation-iteration-count: infinite;\n    transform-origin: bottom;\n    transform: scaleY(1);\n}\n\n@keyframes drive {\n    0% {\n        transform: translateY(10px) skewX(16deg) scaleY(1);\n    }\n    50% {\n        transform: translateY(10px) skewX(16deg) scaleY(0.96);\n    }\n    100% {\n        transform: translateY(10px) skewX(16deg) scaleY(1);\n    }\n}\n\n.finish_flag {\n    width: 56px;\n    height: 56px;\n    background-image: url(${u});\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n    margin-right: 72px;\n}\n`,""]);const h=d},535:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderLayer=void 0,n(673);const r=n(200);t.HeaderLayer=class{constructor(e){this.router=e}addComponent(){const e=new r.CreateElement({tag:"header",classNames:["header"],callback:()=>{}}).getElement();return e.append(this.addButtons()),e}addButtons(){const e=document.createDocumentFragment(),t={tag:"button",classNames:["header__button","garage__button"],callback:e=>{this.navigateToPage(e)}},n={tag:"button",classNames:["header__button","winners__button"],callback:e=>{this.navigateToPage(e)}},a={tag:"button",classNames:["header__button","race__button"],callback:()=>{document.querySelectorAll("[start_car-id]").forEach((e=>{e.click()}))}},o=new r.CreateElement(t).getElement(),i=new r.CreateElement(n).getElement(),s=new r.CreateElement(a).getElement();return o.textContent="Garage",i.textContent="Winners",s.textContent="Race",e.append(o,i,s),e}navigateToPage(e){if(e.target instanceof HTMLElement){const t=e.target.textContent.toLowerCase();this.router.navigate(t)}}}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},563:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CarEngine=void 0;const a=n(804);t.CarEngine=class{startEngine(e){return r(this,void 0,void 0,(function*(){const t=[{key:"id",value:String(e)},{key:"status",value:"started"}],n=new a.Api;return Object.assign(yield n.requestEngineStatus(t))}))}stopEngine(e){return r(this,void 0,void 0,(function*(){const t=[{key:"id",value:String(e)},{key:"status",value:"stopped"}],n=new a.Api;return Object.assign(yield n.requestEngineStatus(t))}))}driveEngine(e){return r(this,void 0,void 0,(function*(){const t=[{key:"id",value:String(e)},{key:"status",value:"drive"}],n=new a.Api;return Object.assign(yield n.requestEngineStatus(t))}))}}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},673:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(974),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0},675:function(e,t,n){var r,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),i=0;i<n.length;i++)"default"!==n[i]&&a(t,e,n[i]);return o(t,e),t}),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const c=n(47),l=n(19),d=n(836);t.App=class{constructor(){const e=this.createRoutes();this.router=new l.Router(e),this.layer=new c.Layer(this.router),this.createView()}createView(){document.body.append(this.layer.addComponent())}createRoutes(){return[{path:"",callback:()=>s(this,void 0,void 0,(function*(){const{GaragePage:e}=yield Promise.resolve().then((()=>i(n(763))));this.setContent(d.Pages.GARAGE,new e)}))},{path:`${d.Pages.GARAGE}`,callback:()=>s(this,void 0,void 0,(function*(){const{GaragePage:e}=yield Promise.resolve().then((()=>i(n(763))));this.setContent(d.Pages.GARAGE,new e)}))},{path:`${d.Pages.WINNERS}`,callback:()=>s(this,void 0,void 0,(function*(){const{WinnersPage:e}=yield Promise.resolve().then((()=>i(n(783))));this.setContent(d.Pages.WINNERS,new e)}))},{path:`${d.Pages.ERROR}`,callback:()=>s(this,void 0,void 0,(function*(){const{ErrorPage:e}=yield Promise.resolve().then((()=>i(n(247))));this.setContent(d.Pages.ERROR,new e)}))}]}setContent(e,t){this.layer.setPage(t),window.history.pushState({},"",e)}}},702:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"",""]);const s=i},707:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0,n(453),t.Page=class{constructor(){}setPage(){}setComponent(){return document.createElement("div")}}},738:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"",""]);const s=i},758:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"",""]);const s=i},763:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GaragePage=void 0,n(373);const r=n(707),a=n(200),o=n(944);class i extends r.Page{constructor(){super()}setComponent(){const e=new a.CreateElement({tag:"div",classNames:["garage__page"],callback:()=>{}}).getElement();return(new o.CarBlock).buildCars().then((t=>{e.append(t)})),e.textContent="GARAGE PAGE!",e}}t.GaragePage=i},774:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"",""]);const s=i},783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersPage=void 0,n(17);const r=n(707),a=n(200);class o extends r.Page{constructor(){super()}setComponent(){const e=new a.CreateElement({tag:"div",classNames:["winners__page"],callback:()=>{}}).getElement();return e.textContent="WINEEEEERS!",e}}t.WinnersPage=o},804:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Api=void 0;const r="http://127.0.0.1:3000/";t.Api=class{constructor(){}requestAllData(e){return n(this,void 0,void 0,(function*(){const t=`${r}${e}`;return yield this.createRequest(t,{method:"GET"})}))}requestData(e,t){return n(this,void 0,void 0,(function*(){const n=this.createQuery(t),a=`${r}${e}${n}`;return yield this.createRequest(a,{method:"GET"})}))}addNewData(e,t){const n=`${r}${e}`,a={method:"POST",headers:{"Content-Type":"application/json"},body:t};this.createRequest(n,a).then()}removeData(e,t){return n(this,void 0,void 0,(function*(){const n=t[0].value,a=`${r}${e}/${n}`;return yield this.createRequest(a,{method:"DELETE"})}))}updateData(e,t,n){const a=`${r}${e}/${t}`,o={method:"PUT",headers:{"Content-Type":"application/json"},body:n};this.createRequest(a,o).then()}requestEngineStatus(e){return n(this,void 0,void 0,(function*(){const t=this.createQuery(e),n=`${r}engine${t}`;return yield this.createRequest(n,{method:"PATCH"})}))}createQuery(e=[]){const t=e.map((e=>`${e.key}=${e.value}`)).join("&");return e.length?"?"+t:""}createRequest(){return n(this,arguments,void 0,(function*(e="",t){const n=yield fetch(e,t);return yield n.json()}))}}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},836:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Pages=void 0,t.Pages={GARAGE:"garage",WINNERS:"winners",ERROR:"error"}},874:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"",""]);const s=i},939:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(422),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0},944:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CarBlock=void 0,n(980);const a=n(20),o=n(563);t.CarBlock=class{constructor(){}buildCars(){return r(this,void 0,void 0,(function*(){const e=document.createElement("div");e.classList.add("cars_container");const t=(new a.CarBase).getAllCars();return yield t.then((t=>(Object.values(t).forEach((t=>{const n=this.createCar(t);e.append(n)})),e)))}))}createCar(e){const t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),s=document.createElement("button"),c=document.createElement("button"),l=document.createElement("button"),d=document.createElement("button"),u=document.createElement("label"),h=document.createElement("div"),p=document.createElement("div");return t.setAttribute("data-car_block",e.id.toString()),t.classList.add("car_block"),n.classList.add("car_block__top"),r.classList.add("car_block__bottom"),a.classList.add("car_block__manage"),o.classList.add("car_block__controls"),i.classList.add("car_block__track"),s.classList.add("car_button","edit_button"),c.classList.add("car_button","remove_button"),l.classList.add("car_button","start_button"),d.classList.add("car_button","stop_button"),u.classList.add("car_name"),p.classList.add("finish_flag"),h.classList.add("car"),h.setAttribute("car-id",e.id.toString()),s.setAttribute("edit_car-id",e.id.toString()),c.setAttribute("remove_car-id",e.id.toString()),l.setAttribute("start_car-id",e.id.toString()),d.setAttribute("stop_car-id",e.id.toString()),s.textContent="Edit",c.textContent="Remove",l.textContent="Start",d.textContent="Stop",u.textContent=e.name,h.append(this.createCarImage(e.color)),i.append(h,p),o.append(l,d),r.append(o,i),a.append(s,c),n.append(a,u),t.append(n,r),t.addEventListener("click",this.manageClick),t}createCarImage(e="#df4343"){const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("width","24px"),t.setAttribute("height","24px"),t.setAttribute("viewBox","0 -960 960 960"),n.setAttribute("fill",e),n.setAttribute("d","M280-160q-45 0-78.5-28.5T162-262q-38-20-60-57t-22-81q0-53 30.5-94.5T192-552l-72-72-12 12q-11 11-28 11t-28-11q-11-11-11-28t11-28l80-80q11-11 28-11t28 11q11 11 11 28t-11 28l-12 12 56 56 32-94q12-37 43.5-59.5T378-800h204q39 0 70.5 22.5T696-718l54 162q57 11 93.5 55T880-400q0 44-22 81t-60 57q-6 45-39.5 73.5T680-160q-38 0-68.5-22T568-240H392q-13 36-43.5 58T280-160Zm16-400h144v-160h-62q-13 0-23 7.5T340-692l-44 132Zm224 0h144l-44-132q-5-13-15-20.5t-23-7.5h-62v160ZM392-320h176q13-36 43.5-58t68.5-22q30 0 56 14t44 38q9-11 14.5-24.5T800-400q0-33-23.5-56.5T720-480H240q-33 0-56.5 23.5T160-400q0 14 5.5 27.5T180-348q18-24 44-38t56-14q38 0 68.5 22t43.5 58Zm-112 80q17 0 28.5-11.5T320-280q0-17-11.5-28.5T280-320q-17 0-28.5 11.5T240-280q0 17 11.5 28.5T280-240Zm400 0q17 0 28.5-11.5T720-280q0-17-11.5-28.5T680-320q-17 0-28.5 11.5T640-280q0 17 11.5 28.5T680-240ZM480-400Z"),t.append(n),t}manageClick(e){if(e.target instanceof HTMLButtonElement){const t=e.target,n=t.getAttribute("start_car-id"),r=t.getAttribute("stop_car-id"),a=t.getAttribute("edit_car-id"),i=t.getAttribute("remove_car-id");if(null!==n){const e=document.querySelector(`[car-id="${n}"]`);t.setAttribute("disabled","true");const r=new o.CarEngine;r.startEngine(Number(n)).then((a=>{e.firstElementChild.classList.add("car_drive");const o=e.parentElement.offsetWidth-60;let i=0;const s=setInterval((()=>{i>=o?(t.removeAttribute("disabled"),e.firstElementChild.classList.remove("car_drive"),clearInterval(s)):(i+=o/a.velocity/10,e.style.transform=`translateX(${i}px)`)}),10);r.driveEngine(Number(n)).catch((()=>{t.removeAttribute("disabled"),e.firstElementChild.classList.remove("car_drive"),clearInterval(s)}))}))}else if(null!==r){const e=document.querySelector(`[car-id="${r}"]`);(new o.CarEngine).stopEngine(Number(r)).then((()=>{e.removeAttribute("style"),e.firstElementChild.classList.remove("car_drive")}))}else if(null!==a){const e=document.querySelector(`[car-id="${a}"]`);console.log("edit",e)}else null!==i&&document.querySelector(`[data-car_block="${i}"]`).remove()}}}},974:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,".header__button {\n    width: 72px;\n    height: 24px;\n    margin: 4px 4px 4px 4px;\n}\n",""]);const s=i},980:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),c=n.n(s),l=n(56),d=n.n(l),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(495),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=h(),a()(f.A,v);const g=f.A&&f.A.locals?f.A.locals:void 0}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,n(939),new(n(675).App)})();