/*! For license information please see main.js.LICENSE.txt */
(()=>{'use strict';var e={'./src/scripts/audio.js':(e,t,s)=>{s.r(t),s.d(t,{playBackgroundAudio:()=>l,playCellEffectAudio:()=>u,playGameOverAudio:()=>m,setBackgroundVolume:()=>o,setBlockAudio:()=>n});var r=s('./src/scripts/variables.js');let a=!1;const c='./assets/sounds/',i=new Audio;function n(e){a=e;}function o(e){i.volume=e;}function l(e){if(e&&r.musicState){i.volume=r.musicVolume,i.src=c+'bg_sound.mp3';const e=i.play();void 0!==e&&e.then().catch((()=>{}));}else i.pause();}function u(e){const t=new Audio;t.loop=!1,'fill'===e&&r.effectFillState?(t.src=c+'fill.mp3',t.volume=r.effectFillVolume,d(t)):'cross'===e&&r.effectCrossState?(t.src=c+'cross.mp3',t.volume=r.effectCrossVolume,d(t)):'erase'===e&&r.effectEraseState&&(t.src=c+'erase.mp3',t.volume=r.effectEraseVolume,d(t));}function m(){const e=new Audio;e.loop=!1,r.effectPopupState&&(e.src=c+'popup.mp3',e.volume=r.effectPopupVolume,d(e));}function d(e){if(a)return;const t=e.play();void 0!==t&&t.then().catch((()=>{}));}i.loop=!0;},'./src/scripts/game_logic.js':(e,t,s)=>{s.r(t),s.d(t,{manageHeader:()=>v,mouseButtonUp:()=>f,setBlock:()=>S,setCellStatus:()=>h,setGameByLevel:()=>b,setSaveResumeButton:()=>g,setTheme:()=>L});var r=s('./src/scripts/variables.js'),a=s('./src/scripts/timer.js'),c=s('./src/scripts/audio.js'),i=s('./src/scripts/helpers/manage_popup.js'),n=s('./src/scripts/helpers/manage_answer.js'),o=s('./src/scripts/helpers/manage_overlay.js'),l=s('./src/scripts/save_load_config.js'),u=s('./src/scripts/helpers/resume_game.js'),m=s('./src/scripts/helpers/manage_sidebar.js'),d=s('./src/scripts/ui_components/table.js');let p=null,_=null;function f(){p=null,_=null;}function v(e){const t=document.getElementsByClassName('nonograms__table'),s=e.target.dataset.levelId,a=e.target.dataset.id;if(s&&(b(e,s,t[0]),g('save')),'save'===a){const e=n.collectAnswer();l.saveCurrentGame(e),g('resume');}if('resume'===a&&(0,u.resumeGame)(e,t),'repeat'===a&&(b(e,r.currentLevelId,t[0]),g('save')),'random'===a){const s=Object.keys(r.pictures).length;b(e,Math.floor(Math.random()*s),t[0]),g('save');}'settings'===a&&((0,m.toggleSidebar)(e),o.isOverlayShown?o.removeOverlay(e):o.setOverlay(e));}function h(e){const t=e.target,s=t.dataset.col+t.dataset.row,r=e.which,i=e.type;p=s,s&&p!==_&&r&&(1===r||1===r&&'mousemove'===i?(_=p,t.classList.toggle('fill'),t.classList.remove('cross')):(3===r||3===r&&'mousemove'===i)&&(_=p,t.classList.toggle('cross'),t.classList.remove('fill')),g('save'),c.setBlockAudio(!1),function(e){a.startTimer();const t=[...e.classList],s=Number(e.dataset.row),r=Number(e.dataset.col);n.setAnswer(t,r,s);}(t));}function g(e){const t=document.querySelectorAll('[data-id]');t[0].dataset.id=e,t[0].textContent=e,'save'===e?(t[0].classList.remove('resume_button'),t[0].classList.add('save_button')):'resume'===e&&(t[0].classList.remove('save_button'),t[0].classList.add('resume_button'));}function b(e,t,s){const c='save'!==e.target.dataset.id;for(a.resetTimer(c),i.removePopup(),S(!1),r.setLevelGrid(t),s.deleteCaption();s.rows.length;)s.deleteRow(0);new d.Table(r.mainScreenParams()).createTableGrid(s);}function L(e){const t=document.getElementsByClassName('body');e?(t[0].classList.add('bg__dark'),t[0].classList.remove('bg__light')):(t[0].classList.add('bg__light'),t[0].classList.remove('bg__dark'));}function S(e){const t=document.getElementsByClassName('nonograms__table'),s=document.querySelectorAll('[data-id]');e?(t[0].classList.add('block__element'),s[0].classList.add('block__element')):(t[0].classList.remove('block__element'),s[0].classList.remove('block__element'));}},'./src/scripts/helpers/fill_table.js':(e,t,s)=>{s.r(t),s.d(t,{fillTable:()=>a});var r=s('./src/scripts/variables.js');function a(e,t){const s=document.querySelectorAll('.field__cell');t.forEach(((t,a)=>{setTimeout((()=>{e.includes('all')&&(0!==t?(s[a].classList.remove('cross'),s[a].classList.add('fill')):(s[a].classList.remove('fill'),s[a].classList.add('cross'))),e.includes('fill')?s[t].classList.add('fill'):e.includes('cross')&&s[t].classList.add('cross');}),25/r.gridSize*a);}));}},'./src/scripts/helpers/manage_answer.js':(e,t,s)=>{s.r(t),s.d(t,{collectAnswer:()=>o,setAnswer:()=>l});var r=s('./src/scripts/variables.js'),a=s('./src/scripts/helpers/manage_matrix.js'),c=s('./src/scripts/audio.js'),i=s('./src/scripts/helpers/manage_popup.js'),n=s('./src/scripts/puzzle_logic.js');function o(){const e=document.querySelectorAll('.field__cell'),t={fill:[],cross:[]};return e.forEach(((e,s)=>{e.classList.contains('fill')?t.fill.push(s):e.classList.contains('cross')&&t.cross.push(s);})),t;}function l(e,t,s){const o=r.answerCells.col_answer[t][s],l=r.answerCells.row_answer[s][t],u=r.answerCells.col_cross[t][s],m=r.answerCells.row_cross[s][t];e.includes('fill')?(u&&m&&a.eraseDataFromMatrix(['cross'],t,s),c.playCellEffectAudio('fill'),a.addDataToMatrix(['fill'],t,s)):e.includes('cross')?(o&&l&&a.eraseDataFromMatrix(['fill'],t,s),c.playCellEffectAudio('cross'),a.addDataToMatrix(['cross'],t,s)):(o&&l?a.eraseDataFromMatrix(['fill'],t,s):u&&m&&a.eraseDataFromMatrix(['cross'],t,s),c.playCellEffectAudio('erase')),function(){const e=new n.Puzzle,t=e.calculatePicMatrix(r.answerCells.col_answer).flat().join(''),s=e.calculatePicMatrix(r.answerCells.row_answer).flat().join(''),a=r.pictures[r.currentLevelId].col_tips.flat().join(''),o=r.pictures[r.currentLevelId].row_tips.flat().join('');t===a&&s===o&&(i.showPopUp(),c.playGameOverAudio());}();}},'./src/scripts/helpers/manage_best_time.js':(e,t,s)=>{s.r(t),s.d(t,{refreshBestTimeTable:()=>o,saveBestTime:()=>n});var r=s('./src/scripts/timer.js'),a=s('./src/scripts/save_load_config.js'),c=s('./src/scripts/helpers/puzzle_name.js'),i=s('./src/scripts/ui_components/sidebar.js');function n(e){const t=a.getLeaders();let s=JSON.parse(t);const i=(0,c.getPuzzleNameLevel)(),n=r.convertSecondsToTime(e),o=[1,i[0],i[1],n];if(s){for(let e=0;e<5;e+=1){if(!s[e]){s.push(o);break;}const t=Number(s[e][3].replace(':','')),r=Number(o[3].replace(':',''));if(s[e][0]=e+1,r<t){s.splice(e,0,o);break;}}s.forEach(((e,t)=>{s[t][0]=t+1;}));}else s=[o];const l=JSON.stringify(s.slice(0,5));a.saveLeaders(l);}function o(){const e=document.getElementsByClassName('time__table'),t=a.getLeaders();if(!t)return;for(;1!==e[0].rows.length;)e[0].deleteRow(1);JSON.parse(t).forEach((t=>{const s=(new i.Sidebar).createBestTimeItem(t);e[0].append(s);}));}},'./src/scripts/helpers/manage_matrix.js':(e,t,s)=>{s.r(t),s.d(t,{addDataToMatrix:()=>a,eraseDataFromMatrix:()=>c});var r=s('./src/scripts/variables.js');function a(e,t,s){e.includes('fill')?(r.answerCells.col_answer[t][s]+=1,r.answerCells.row_answer[s][t]+=1):e.includes('cross')&&(r.answerCells.col_cross[t][s]+=1,r.answerCells.row_cross[s][t]+=1);}function c(e,t,s){e.includes('fill')?(r.answerCells.col_answer[t][s]-=1,r.answerCells.row_answer[s][t]-=1):e.includes('cross')&&(r.answerCells.col_cross[t][s]-=1,r.answerCells.row_cross[s][t]-=1);}},'./src/scripts/helpers/manage_menu.js':(e,t,s)=>{s.r(t),s.d(t,{menuLevel:()=>c,prevLevel:()=>i,prevPicture:()=>n,resetMenus:()=>l,tapOnMenu:()=>o});var r=s('./src/scripts/helpers/manage_overlay.js'),a=s('./src/scripts/game_logic.js');let c=null,i=null,n=null;function o(e){const t=e.target.classList.contains('level__menu_item'),s=e.target.classList.contains('level__item'),o=e.target.classList.contains('level__image');return(t||s||o)&&e.preventDefault(),t?(c=e.target,e.target.classList.toggle('menu__tap'),void(r.isOverlayShown?r.removeOverlay(e):r.setOverlay(e))):s&&e.target!==i?(e.target.classList.add('menu__level_hover'),i?.classList.remove('menu__level_hover'),n?.classList.remove('menu__image_hover'),i=e.target,void(n=null)):void(o&&e.target!==n&&(e.target.classList.add('menu__image_hover'),n?.classList.remove('menu__image_hover'),n=e.target,(0,a.manageHeader)(e)));}function l(){const e=document.getElementsByClassName('sidebar');e[0]?.classList.remove('sidebar__active'),c?.classList.remove('menu__tap'),i?.classList.remove('menu__level_hover'),n?.classList.remove('menu__image_hover'),i=null,n=null;}},'./src/scripts/helpers/manage_overlay.js':(e,t,s)=>{s.r(t),s.d(t,{isOverlayShown:()=>c,removeOverlay:()=>n,setOverlay:()=>i});var r=s('./src/scripts/listeners.js'),a=s('./src/scripts/helpers/manage_menu.js');let c=!1;function i(e){c=!0,r.setOverlayListeners(e,!0);}function n(e){c=!1,r.setOverlayListeners(e,!1),(0,a.resetMenus)();}},'./src/scripts/helpers/manage_popup.js':(e,t,s)=>{s.r(t),s.d(t,{removePopup:()=>o,showPopUp:()=>n});var r=s('./src/scripts/timer.js'),a=s('./src/scripts/listeners.js'),c=s('./src/scripts/game_logic.js'),i=s('./src/scripts/ui_components/popup.js');function n(){r.stopTimer(!0),(0,c.setBlock)(!0);const e=document.getElementsByClassName('game__section'),t=(new i.Popup).createPopUp();e[0].prepend(t),a.startPopupListener();}function o(){const e=document.getElementsByClassName('popup__window');e[0]?.remove();}},'./src/scripts/helpers/manage_sidebar.js':(e,t,s)=>{s.r(t),s.d(t,{sidebarSettings:()=>u,toggleSidebar:()=>l});var r=s('./src/scripts/listeners.js'),a=s('./src/scripts/variables.js'),c=s('./src/scripts/save_load_config.js'),i=s('./src/scripts/game_logic.js'),n=s('./src/scripts/helpers/manage_best_time.js'),o=s('./src/scripts/ui_components/sidebar.js');function l(){const e=document.getElementsByClassName('sidebar');if(e[0]){document.getElementById('themes__switch').checked=a.isDarkTheme,e[0].classList.toggle('sidebar__active');}else{const e=document.getElementsByClassName('game__section'),t=(new o.Sidebar).createSidebar();e[0].append(t),r.startSidebarListeners();}e[0].classList.contains('sidebar__active')&&(0,n.refreshBestTimeTable)();}function u(e){const t=e.target.type,s=e.target.id;if('checkbox'===t&&'themes__switch'===s){const t=e.target.checked;a.setThemeState(t),(0,i.setTheme)(t);}else if('checkbox'===t){const t=e.target.checked;a.setAudioState(s,t);}else if('range'===t){const t=e.target.value;a.setAudioVolume(s,t);}setTimeout((()=>{c.saveAppSettings();}),1e3);}},'./src/scripts/helpers/puzzle_name.js':(e,t,s)=>{s.r(t),s.d(t,{getPuzzleNameLevel:()=>a});var r=s('./src/scripts/variables.js');function a(e){const t=/\(.*\)/g,s=r.pictures[r.currentLevelId].name.replace(t,'').trim(),a=r.pictures[r.currentLevelId].level.replace(t,'').trim();return e?`${s} - ${a}`:[s,a];}},'./src/scripts/helpers/resume_game.js':(e,t,s)=>{s.r(t),s.d(t,{resumeGame:()=>l});var r=s('./src/scripts/save_load_config.js'),a=s('./src/scripts/audio.js'),c=s('./src/scripts/variables.js'),i=s('./src/scripts/helpers/manage_answer.js'),n=s('./src/scripts/helpers/fill_table.js'),o=s('./src/scripts/game_logic.js');function l(e,t){r.getLastConfig(),a.setBlockAudio(!0),(0,o.setSaveResumeButton)('save');const s=c.resumeLastGame().game.answerCells;(0,o.setGameByLevel)(e,c.currentLevelId,t[0]);for(const e in s)u([e],s[e]);}function u(e,t){const s=document.querySelectorAll('.field__cell');t.forEach((t=>{const r=s[t].dataset.col,a=s[t].dataset.row;(0,i.setAnswer)(e,r,a);})),(0,n.fillTable)(e,t);}},'./src/scripts/helpers/solve_puzzle.js':(e,t,s)=>{s.r(t),s.d(t,{solvePuzzle:()=>o});var r=s('./src/scripts/timer.js'),a=s('./src/scripts/variables.js'),c=s('./src/scripts/puzzle_logic.js'),i=s('./src/scripts/helpers/fill_table.js'),n=s('./src/scripts/game_logic.js');function o(e){if('solve'===e.target.dataset.id){r.stopTimer(!1),(0,n.setBlock)(!0);const e=a.pictures[a.currentLevelId].col_tips,t=a.pictures[a.currentLevelId].row_tips,s=new c.Puzzle(e,t).getPicByTips().flat();(0,i.fillTable)(['all'],s);}}},'./src/scripts/listeners.js':(e,t,s)=>{s.r(t),s.d(t,{setOverlayListeners:()=>f,startListeners:()=>h,startPopupListener:()=>v,startSidebarListeners:()=>_});var r=s('./src/scripts/game_logic.js'),a=s('./src/scripts/helpers/manage_sidebar.js'),c=s('./src/scripts/helpers/manage_overlay.js'),i=s('./src/scripts/helpers/manage_popup.js'),n=s('./src/scripts/helpers/solve_puzzle.js'),o=s('./src/scripts/helpers/manage_menu.js');const l=document.getElementsByClassName('header'),u=document.getElementsByClassName('sidebar'),m=document.getElementsByClassName('nonograms__table'),d=document.getElementsByClassName('overlay'),p=document.getElementsByClassName('popup__close_button');function _(){u[0].addEventListener('input',a.sidebarSettings);}function f(e,t){t?(d[0].addEventListener('click',c.removeOverlay),d[0].addEventListener('touchend',c.removeOverlay)):(d[0].removeEventListener('click',c.removeOverlay),d[0].removeEventListener('touchend',c.removeOverlay)),e.preventDefault();}function v(){p[0].addEventListener('click',i.removePopup);}function h(){l[0].addEventListener('touchend',o.tapOnMenu),l[0].addEventListener('click',r.manageHeader),m[0].addEventListener('click',n.solvePuzzle),m[0].addEventListener('mousedown',r.setCellStatus),m[0].addEventListener('mousemove',r.setCellStatus),m[0].addEventListener('mouseup',r.mouseButtonUp),m[0].addEventListener('contextmenu',(e=>e.preventDefault()));}},'./src/scripts/pictures.js':(e,t,s)=>{s.r(t),s.d(t,{pictures:()=>r});const r={0:{name:'A heart (5x5)',level:'Easy (5x5)',col_tips:[[2],[4],[4],[4],[2]],row_tips:[[1,1],[5],[5],[3],[1]]},1:{name:'A smile (5x5)',level:'Easy (5x5)',col_tips:[[2],[2,1],[1],[2,1],[2]],row_tips:[[1,1],[1,1],[],[1,1],[5]]},2:{name:'An arrow (5x5)',level:'Easy (5x5)',col_tips:[[1],[1],[5],[3],[1]],row_tips:[[1],[2],[5],[2],[1]]},3:{name:'A house (5x5)',level:'Easy (5x5)',col_tips:[[3],[4],[3],[4],[3]],row_tips:[[1],[3],[5],[2,2],[2,2]]},4:{name:'A TV (5x5)',level:'Easy (5x5)',col_tips:[[1,3],[2,1],[1,1],[2,1],[1,3]],row_tips:[[1,1],[1,1],[5],[1,1],[5]]},5:{name:'A sand watch (10x10)',level:'Medium (10x10)',col_tips:[[1,1],[2,2],[3,3],[4,4],[10],[10],[4,4],[3,3],[2,2],[1,1]],row_tips:[[10],[8],[6],[4],[2],[2],[4],[6],[8],[10]]},6:{name:'A musical note (10x10)',level:'Medium (10x10)',col_tips:[[2],[4],[4],[9],[3],[3],[3,2],[3,4],[3,4],[8]],row_tips:[[7],[7],[7],[1,1],[1,1],[1,3],[3,4],[4,4],[4,2],[2]]},7:{name:'A battery (10x10)',level:'Medium (10x10)',col_tips:[[],[],[9],[10],[10],[10],[9],[],[],[]],row_tips:[[3],[5],[5],[5],[5],[5],[5],[5],[5],[5]]},8:{name:'A camera (10x10)',level:'Medium (10x10)',col_tips:[[8],[9],[3,3],[2,2],[1,1],[1,1],[4,2],[1,3,3],[10],[8]],row_tips:[[3],[1,1,1],[10],[4,4],[3,3],[2,2],[2,2],[3,3],[4,4],[10]]},9:{name:'A tree (10x10)',level:'Medium (10x10)',col_tips:[[3],[5],[6],[6],[10],[10],[6],[6],[5],[3]],row_tips:[[4],[6],[8],[10],[10],[10],[2,2,2],[2],[2],[2]]},10:{name:'A bottle (15x15)',level:'Hard (15x15)',col_tips:[[],[],[],[10],[4,4],[1,5,1,4],[8,1,4],[8,1,4],[1,5,1,4],[4,4],[10],[],[],[],[]],row_tips:[[4],[2],[2],[4],[6],[8],[8],[8],[1,1],[1,4,1],[1,1],[8],[8],[8],[8]]},11:{name:'A bus (15x15)',level:'Hard (15x15)',col_tips:[[2],[10],[1,2,5],[2,2,5],[2,6],[2,6],[2,6],[12],[2,6],[2,6],[2,6],[2,2,5],[1,2,5],[10],[2]],row_tips:[[9],[11],[1,1,1],[1,1,1],[2,1,2],[2,1,2],[13],[13],[1,7,1],[1,7,1],[13],[13],[2,2],[2,2],[2,2]]},12:{name:'A mushroom (15x15)',level:'Hard (15x15)',col_tips:[[2,2],[3,1],[5,3,1],[6,3,3],[8,1],[7,3],[7,2,1],[7,1],[7,2],[3,3,3],[2,4,1],[6,3,3],[5,3,1],[3,2],[2,3]],row_tips:[[5],[9],[11],[8,3],[10,4],[15],[11],[1,1],[2,2],[1,1],[2,2],[1,1,1],[2,2,1,2,1],[1,1,1,2,1,2],[15]]},13:{name:'A ship (15x15)',level:'Hard (15x15)',col_tips:[[4,1],[4,1,1],[3,1,2,1],[2,2,1,1],[4,3],[6,3],[12],[2,3],[15],[9,3],[7,3],[5,3],[3,1,1],[1,1,1],[1]],row_tips:[[4,1],[4,2],[3,3],[2,1,2],[1,3],[2,3],[2,4],[3,4],[4,5],[5,5],[3,6],[2,1,1],[12],[8],[15]]},14:{name:'A fish (15x15)',level:'Hard (15x15)',col_tips:[[3,3],[6],[1,4,1],[2,2,3],[14],[14],[14],[3,4],[2,5,2],[3,4],[3,1,1,1,1],[2,2,2],[6],[2,3,2],[2,3]],row_tips:[[5,2],[6,2],[7],[1,4,3],[2,3,5],[3,3,1,1],[6,1,1,2],[6,1,2],[3,3,6],[2,4,1,2],[1,4,2],[7,1],[6,1],[5,1,2],[2,1]]}};},'./src/scripts/puzzle_logic.js':(e,t,s)=>{s.r(t),s.d(t,{Puzzle:()=>r});class r{constructor(e=[],t=[]){this.picCols=e,this.picRows=t,this.picSize=e?.length,this.matrix=new Array(this.picSize).fill(null).map((()=>new Array(this.picSize).fill(0)));}#e(e,t){if(e===this.picSize)return!0;const s=e+(t+1===this.picSize?1:0),r=(t+1)%this.picSize;return this.matrix[e][t]=1,!(!this.#t(this.matrix,e,t)||!this.#e(s,r))||(this.matrix[e][t]=0,!(!this.#t(this.matrix,e,t)||!this.#e(s,r))||void 0);}#t(e,t,s){const r=this.#s(this.picCols[s],this.picSize,t,(t=>e[t][s])),a=this.#s(this.picRows[t],this.picSize,s,(s=>e[t][s]));if(r&&a)return!0;}#s(e,t,s,r){let a=0,c=0,i=!1;for(let t=0;t<=s;t+=1)if(1===r(t)){if(c+=1,!i&&a>=e.length)return!1;i=!0;}else{if(i){if(e[a]!==c)return!1;c=0,a++;}i=!1;}return s===t-1?i?a===e.length-1&&c===e[a]:a===e.length:!i||c<=e[a];}calculatePicMatrix(e){const t=[];let s=[],r=0;return e.forEach((e=>{s=[],r=0;for(let t=0;t<e.length;t+=1)0===e[t]&&0===r||(0!==e[t]||0===r?(r+=1,t===e.length-1&&(s.push(r),r=0)):(s.push(r),r=0));t.push(s);})),t;}getPicByTips(){return!!this.#e(0,0)&&this.matrix;}}},'./src/scripts/save_load_config.js':(e,t,s)=>{s.r(t),s.d(t,{getAppSettings:()=>n,getLastConfig:()=>c,getLeaders:()=>l,saveAppSettings:()=>i,saveCurrentGame:()=>a,saveLeaders:()=>o});var r=s('./src/scripts/variables.js');function a(e){const t=(0,r.getGameConfig)(e),s=JSON.stringify(t);localStorage.setItem('rss_nonograms',s);}function c(){let e=localStorage.getItem('rss_nonograms');e=JSON.parse(e),e&&(0,r.setGameConfig)(e);}function i(){const e=(0,r.getAppConfig)(),t=JSON.stringify(e);localStorage.setItem('rss_nonograms_set',t);}function n(){let e=localStorage.getItem('rss_nonograms_set');e=JSON.parse(e),e&&(0,r.setAppConfig)(e);}function o(e){localStorage.setItem('rss_nonograms_leaders',e);}function l(){const e=localStorage.getItem('rss_nonograms_leaders');return e||null;}},'./src/scripts/timer.js':(e,t,s)=>{s.r(t),s.d(t,{convertSecondsToTime:()=>f,resetTimer:()=>p,startTimer:()=>m,stopTimer:()=>d});var r=s('./src/scripts/variables.js'),a=s('./src/scripts/helpers/manage_best_time.js');const c=document.getElementsByClassName('puzzle__spend_time');let i=null,n=!1,o=0,l=0,u=0;function m(){n||(n=!0,u=r.winnerTime,o=(new Date).getTime(),i=setInterval(_,1e3));}function d(e){clearInterval(i),e&&(0,a.saveBestTime)(r.winnerTime);}function p(e){n=!1,clearInterval(i),e&&(0,r.setWinnerTime)(0);}function _(){c[0].textContent=function(){l=(new Date).getTime();let e=.001*(l-o);return e=Math.floor(e),e+=u,(0,r.setWinnerTime)(e),f(e);}();}function f(e){let t=(e-(e%=60))/60;t=(t<10?'0':'')+t;return t+((e<10?':0':':')+e);}},'./src/scripts/ui_components/button.js':(e,t,s)=>{s.r(t),s.d(t,{Button:()=>r});class r{constructor(){}createButton(e,t=''){const s=document.createElement('button');return s.classList.add('header__button',`${e}_button`),s.setAttribute('data-id',e),s.setAttribute('aria-label',e),s.textContent=t,s;}}},'./src/scripts/ui_components/game_section.js':(e,t,s)=>{s.r(t),s.d(t,{GameSection:()=>i});var r=s('./src/scripts/variables.js'),a=s('./src/scripts/ui_components/sidebar.js'),c=s('./src/scripts/ui_components/table.js');class i{constructor(){this.tableParams={lastTime:r.winnerTime,levelId:r.currentLevelId,gridSize:r.gridSize,pictures:r.pictures},this.table=new c.Table(this.tableParams),this.sidebar=new a.Sidebar;}createGameSection(){const e=document.createElement('section');e.classList.add('game__section');const t=this.table.createTable();return e.append(t),e;}}},'./src/scripts/ui_components/header.js':(e,t,s)=>{s.r(t),s.d(t,{Header:()=>i});var r=s('./src/scripts/ui_components/levels_menu.js'),a=s('./src/scripts/ui_components/button.js'),c=s('./src/scripts/variables.js');class i{constructor(){this.levelsMenu=new r.LevelsMenu,this.button=new a.Button,this.isConfigLoaded=c.isConfigLoaded;}createHeaderSection(){const e=document.createElement('header');e.classList.add('header');const t=this.levelsMenu.createLevelsMenu(),s=this.button.createButton('settings',''),r=this.button.createButton('repeat','Play again'),a=this.button.createButton('random'),c=this.isConfigLoaded?'resume':'save',i=this.button.createButton(c,c);return e.append(i,r,a,t,s),e;}}},'./src/scripts/ui_components/levels_menu.js':(e,t,s)=>{s.r(t),s.d(t,{LevelsMenu:()=>a});var r=s('./src/scripts/variables.js');class a{constructor(){this.pictures=r.pictures;}createLevelsMenu(){const e=document.createElement('ul');e.classList.add('level__menu');const t=document.createElement('li');t.classList.add('level__menu_item');const s=document.createElement('span');s.classList.add('level__menu_text'),s.textContent='Levels';const r=this.#r(this.pictures);return t.append(s,r),e.append(t),e;}#r(e){const t=document.createElement('ul');t.classList.add('level__items');const s=new Map,r=new Map;let a=0;for(const t in e)s.set(e[t].level,''),r.set(e[t].name,e[t].level);return s.forEach(((e,s)=>{const c=document.createElement('li');c.classList.add('level__item'),c.textContent=s;const i=document.createElement('ul');i.classList.add('level__images'),t.append(c),r.forEach(((e,t)=>{if(e===s){const e=document.createElement('li');e.classList.add('level__image'),e.setAttribute('data-level-id',String(a)),a+=1,e.textContent=t,i.append(e);}c.append(i);}));})),t;}}},'./src/scripts/ui_components/main_screen.js':(e,t,s)=>{s.r(t),s.d(t,{MainScreen:()=>o});var r=s('./src/scripts/ui_components/header.js'),a=s('./src/scripts/ui_components/game_section.js'),c=s('./src/scripts/save_load_config.js'),i=s('./src/scripts/game_logic.js'),n=s('./src/scripts/variables.js');class o{constructor(){(0,c.getAppSettings)(),(0,c.getLastConfig)(),this.headerSection=new r.Header,this.gameSection=new a.GameSection,this.#a();}#c(e){const t=document.createElement(e);return t.classList.add(e),t;}#i(){const e=this.#c('main'),t=this.#c('overlay'),s=this.headerSection.createHeaderSection(),r=this.gameSection.createGameSection();return e.append(t,s,r),e;}#a(){const e=document.getElementsByClassName('body')[0],t=this.#i();e.append(t),(0,i.setTheme)(n.isDarkTheme);}}},'./src/scripts/ui_components/popup.js':(e,t,s)=>{s.r(t),s.d(t,{Popup:()=>a});var r=s('./src/scripts/variables.js');class a{constructor(){this.beginText='Great!\nYou have solved\nthe nonogram\nin',this.time=r.winnerTime,this.endText='seconds!';}#c(e){const t=document.createElement('div');return t.classList.add(`popup__${e}`),t;}createPopUp(){const e=this.#c('window'),t=this.#c('wrapper'),s=this.#c('close_button'),r=this.#c('image'),a=this.#c('congrats'),c=document.createElement('p');c.classList.add('congrats__text'),c.textContent=`${this.beginText} ${this.time} ${this.endText}`;const i=document.createElement('span');return i.classList.add('congrats__time'),c.append(i),a.append(c),t.append(s,a,r),e.append(t),e;}}},'./src/scripts/ui_components/sidebar.js':(e,t,s)=>{s.r(t),s.d(t,{Sidebar:()=>a});var r=s('./src/scripts/variables.js');class a{constructor(){this.musicState=r.musicState,this.musicVolume=r.musicVolume,this.effectFillState=r.effectFillState,this.effectFillVolume=r.effectFillVolume,this.effectCrossState=r.effectCrossState,this.effectCrossVolume=r.effectCrossVolume,this.effectEraseState=r.effectEraseState,this.effectEraseVolum=r.effectEraseVolume,this.effectPopupState=r.effectPopupState,this.effectPopupVolum=r.effectPopupVolume,this.isDarkTheme=r.isDarkTheme;}#c(e){const t=document.createElement('div');return t.classList.add(`${e}__container`),t;}#n(){const e=this.#c('audio'),t=document.createElement('p');t.classList.add('audio__container__title'),t.textContent='Audio';const s={name:'music',label:'Background music',state:this.musicState,volume:this.musicVolume},r={name:'fill',label:'Cell fill',state:this.effectFillState,volume:this.effectFillVolume},a={name:'cross',label:'Cell cross',state:this.effectCrossState,volume:this.effectCrossVolume},c={name:'erase',label:'Cell erase',state:this.effectEraseState,volume:this.effectEraseVolum},i={name:'popup',label:'PopUp',state:this.effectPopupState,volume:this.effectPopupVolum},n=this.#o(s),o=this.#o(r),l=this.#o(a),u=this.#o(c),m=this.#o(i);return e.append(t,n,o,l,u,m),e;}#l(){const e=this.#c('themes'),t=this.#c('themes__switch'),s=document.createElement('p');s.classList.add('theme__container__title'),s.textContent='Themes';const r=document.createElement('p');r.textContent='Light';const a=document.createElement('p');a.textContent='Dark';const c=document.createElement('label');c.classList.add('themes__switch_label');const i=document.createElement('input');i.classList.add('themes__switch'),i.type='checkbox',i.id='themes__switch',i.checked=this.isDarkTheme;const n=document.createElement('span');return n.classList.add('switch__slider','switch__round'),c.append(i,n),t.append(r,c,a),e.append(s,t),e;}#o(e){const t=this.#c('audio__setting'),s=this.#c('audio__turn'),r=this.#u(e),a=this.#m(e),c=this.#d(e);return s.append(r,a),t.append(s,c),t;}#m(e){const t=document.createElement('label');return t.classList.add('audio__label'),t.setAttribute('for',`${e.name}__play`),t.textContent=e.label,t;}#u(e){const t=document.createElement('input');return t.classList.add('audio__checkbox'),t.type='checkbox',t.id=`${e.name}__play`,t.name=`${e.name}__play`,t.checked=e.state,t;}#d(e){const t=document.createElement('input');return t.classList.add('audio__volume'),t.type='range',t.id=`${e.name}__volume`,t.name=`${e.name}__volume`,t.min='0',t.max='1',t.step='0.1',t.value=e.volume,t;}#p(){const e=this.#c('best__time'),t=document.createElement('p');t.classList.add('time__container__title'),t.textContent='Best time';const s=this.#_();return e.append(t,s),e;}#_(){const e=document.createElement('table');e.classList.add('time__table');const t=document.createElement('tr');t.classList.add('time__table_header');return['Place','Picture name','Level','Time'].forEach((e=>{const s=document.createElement('th');s.classList.add('time__table_header_cell'),s.textContent=e,t.append(s);})),e.append(t),e;}createBestTimeItem(e){const t=document.createElement('tr');return t.classList.add('time__best_item'),e.forEach((e=>{const s=document.createElement('td');s.classList.add('time__best_cell'),s.textContent=e,t.append(s);})),t;}createSidebar(){const e=document.createElement('div');e.classList.add('sidebar','sidebar__active');const t=this.#c('sidebar'),s=this.#l(),r=this.#n(),a=this.#p();return t.append(s,r,a),e.append(t),e;}}},'./src/scripts/ui_components/table.js':(e,t,s)=>{s.r(t),s.d(t,{Table:()=>i});var r=s('./src/scripts/variables.js'),a=s('./src/scripts/helpers/puzzle_name.js'),c=s('./src/scripts/timer.js');class i{constructor({...e}){this.time=e.lastTime,this.levelId=e.levelId,this.gridSize=e.gridSize,this.pictures=e.pictures,(0,r.setAnswerMatrixSize)(r.gridSize);}createTable(){const e=document.createElement('table');return e.classList.add('nonograms__table'),this.createTableGrid(e);}createTableGrid(e){if(!e)return;const t=this.#f();return e.append(t),this.#v(e),this.#h(e),e;}#f(){const e=document.createElement('caption');e.classList.add('table__caption');const t=document.createElement('p');t.classList.add('puzzle__name_level'),t.textContent=(0,a.getPuzzleNameLevel)(!0);const s=document.createElement('p');return s.classList.add('puzzle__spend_time'),s.textContent=(0,c.convertSecondsToTime)(this.time),e.append(t,s),e;}#v(e){const t=document.createElement('tr');t.classList.add('top__tips');const s=this.pictures[this.levelId];for(let e=0;e<=this.gridSize;e+=1){const r=document.createElement('th');if(0!==e)r.classList.add('tips','col__tips'),r.setAttribute('data-col_tips',String(e)),r.textContent=s.col_tips[e-1].join('\n');else{r.classList.add('col__answer');const e=document.createElement('span');e.classList.add('show__answer'),e.setAttribute('data-id','solve'),e.textContent='Solve',r.append(e);}t.append(r);}e.append(t);}#h(e){const t=this.pictures[this.levelId];for(let s=0;s<this.gridSize;s+=1){const r=document.createElement('tr');r.classList.add('row__cells');const a=document.createElement('th');a.classList.add('tips','row__tips'),a.setAttribute('data-row_tips',String(s+1)),a.textContent=t.row_tips[s].join('\n'),r.append(a);for(let e=0;e<this.gridSize;e+=1){const t=document.createElement('td');t.classList.add('field__cell'),t.setAttribute('data-col',String(e)),t.setAttribute('data-row',String(s)),r.append(t);}e.append(r);}}}},'./src/scripts/variables.js':(e,t,s)=>{s.r(t),s.d(t,{answerCells:()=>L,currentLevelId:()=>f,effectCrossState:()=>n,effectCrossVolume:()=>d,effectEraseState:()=>o,effectEraseVolume:()=>p,effectFillState:()=>i,effectFillVolume:()=>m,effectPopupState:()=>l,effectPopupVolume:()=>_,getAppConfig:()=>k,getGameConfig:()=>B,gridSize:()=>v,isConfigLoaded:()=>b,isDarkTheme:()=>g,mainScreenParams:()=>j,musicState:()=>c,musicVolume:()=>u,pictures:()=>r.pictures,resumeLastGame:()=>M,setAnswerMatrixSize:()=>C,setAppConfig:()=>V,setAudioState:()=>x,setAudioVolume:()=>T,setGameConfig:()=>P,setLevelGrid:()=>E,setThemeState:()=>z,setWinnerTime:()=>A,winnerTime:()=>h});var r=s('./src/scripts/pictures.js'),a=s('./src/scripts/audio.js');let c=!1,i=!0,n=!0,o=!0,l=!0,u=.2,m=.2,d=.2,p=.2,_=.2,f=0,v=5,h=0,g=!1,b=!1,L={};const S={theme:g,audio:{effectFillState:i,effectCrossState:n,effectEraseState:o,effectPopupState:l,musicVolume:u,effectFillVolume:m,effectCrossVolume:d,effectEraseVolume:p,effectPopupVolume:_}};let w={game:{lastTime:h,currentLevelId:f,gridSize:v,currentTime:h,answerCells:{}}};const C=e=>{L.col_answer=y(e),L.col_cross=y(e),L.row_answer=y(e),L.row_cross=y(e);},j=()=>({lastTime:h,levelId:f,gridSize:v,pictures:r.pictures});function E(e){f=e,e>=0&&e<=4?v=5:e>=5&&e<=9?v=10:e>=10&&e<=14&&(v=15),C(v);}function y(e){return new Array(e).fill(null).map((()=>Array(e).fill(0)));}function x(e,t){'music__play'===e&&(c=t,(0,a.playBackgroundAudio)(c)),'fill__play'===e&&(i=t),'cross__play'===e&&(n=t),'erase__play'===e&&(o=t),'popup__play'===e&&(l=t);}function T(e,t){'music__volume'===e&&(u=t,(0,a.setBackgroundVolume)(t)),'fill__volume'===e&&(m=t),'cross__volume'===e&&(d=t),'erase__volume'===e&&(p=t),'popup__volume'===e&&(_=t);}function A(e){h=e;}function z(e){g=e;}function B(e){const t=structuredClone(w);return t.game.currentLevelId=f,t.game.gridSize=v,t.game.currentTime=h,t.game.answerCells=e,t;}function P(e){b=!0,w=e;}function k(){const e=structuredClone(S);return e.theme=g,e.audio.effectFillState=i,e.audio.effectCrossState=n,e.audio.effectEraseState=o,e.audio.effectPopupState=l,e.audio.musicVolume=u,e.audio.effectFillVolume=m,e.audio.effectCrossVolume=d,e.audio.effectEraseVolume=p,e.audio.effectPopupVolume=_,e;}function V(e){g=e.theme,i=e.audio.effectFillState,n=e.audio.effectCrossState,o=e.audio.effectEraseState,l=e.audio.effectPopupState,u=e.audio.musicVolume,m=e.audio.effectFillVolume,d=e.audio.effectCrossVolume,p=e.audio.effectEraseVolume,_=e.audio.effectPopupVolume;}function M(){return f=w.game.currentLevelId,v=w.game.gridSize,h=w.game.currentTime,L=w.game.answerCells,structuredClone(w);}}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,s),c.exports;}s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]});},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0});};var r={};(()=>{s.r(r);var e=s('./src/scripts/ui_components/main_screen.js'),t=s('./src/scripts/listeners.js');new e.MainScreen,(0,t.startListeners)();})();})();